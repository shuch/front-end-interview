<html>
    <body>
        <h1>事件模型</h1>
        <button onclick="bindEvent('greet')">绑定事件</button>
        <button onclick="triggerEvent('greet')">触发事件</button>
    </body>
    <script>
        class EventEmitter {
            constructor(){
                this.events = []
            }

            bind(eventName, callback) {
                //绑定事件
                if (!this.events[eventName]) {
                    this.events[eventName] = []
                }
                this.events[eventName].push(callback)
            }

            triggerEvent(event, ...args) {
                //触发事件
                if(this.events[event]) {
                    this.events[event].forEach(callback => callback(...args));
                }
            }
        }

        const eventEmitter = new EventEmitter()

        function bindEvent(eventName) {
            eventEmitter.bind(eventName, () => {
                alert(`${eventName} event triggered!`);
            })
        }

        function triggerEvent(name) {
            eventEmitter.triggerEvent(name)
        }

    </script>
</html>